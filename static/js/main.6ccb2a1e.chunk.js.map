{"version":3,"sources":["assets/up.png","actions/index.js","components/header.js","components/newsitem.js","components/pagination.js","components/graph.js","components/news_feed.js","components/app.js","reducers/index.js","reducers/reducer_news.js","index.js"],"names":["module","exports","fetchNews","pageNum","console","log","dispatch","url","fetch","then","response","ok","Error","json","news","type","payload","fetchNewsSuccess","catch","err","Header","className","withRouter","connect","props","listItems","length","hits","map","newsFeed","key","objectID","num_comments","href","src","upVoteImg","width","title","target","URL","hostname","author","date","created_at","bindActionCreators","history","useHistory","currPage","parseInt","onClick","e","preventDefault","push","Graph","height","xLabel","yLabel","data","color","points","x","y","useEffect","App","path","exact","render","to","rootReducer","combineReducers","state","action","middlewares","promiseMiddleware","thunk","composeEnhancer","composeWithDevTools","compose","store","createStore","reducers","applyMiddleware","ReactDOM","document","querySelector"],"mappings":"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","file":"static/js/main.6ccb2a1e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/up.aa710c73.png\";","const ROOT_URL = `https://hn.algolia.com/api/v1/search_by_date`;\n\nexport const FETCH_NEWS = \"FETCH_NEWS\";\nexport const UPDATE_PAGE_NUM = \"UPDATE_PAGE_NUM\";\nexport function updatePageNum(pageNum) {\n  return {\n    type: UPDATE_PAGE_NUM,\n    payload: pageNum,\n  };\n}\nexport function fetchNewsSuccess(news) {\n  return {\n    type: FETCH_NEWS,\n    payload: news,\n  };\n}\nexport function fetchNewsFailure(news) {\n  return {\n    type: FETCH_NEWS,\n    payload: news,\n  };\n}\nexport function fetchNews(pageNum) {\n  console.log(\" news for page\", pageNum);\n  return (dispatch) => {\n    const url = `${ROOT_URL}?tags=story&page=${pageNum}`;\n    console.log(\"fetchCallto url\", pageNum);\n    fetch(url)\n      .then((response) => {\n        if (!response.ok) {\n          throw new Error(\"Failed to fetch.\");\n        }\n        return response.json();\n      })\n      .then((news) => {\n        dispatch(fetchNewsSuccess(news));\n      })\n      .catch((err) => {\n        dispatch(fetchNewsFailure());\n      });\n  };\n}\n","import React from \"react\";\nconst Header = () => {\n  return (\n    <div className=\"header\">\n      <div className=\"comments-section\">Comments</div>\n      <div className=\"vote-count-section\">Vote Count</div>\n      <div className=\"up-vote-section\">Up Vote</div>\n      <div className=\"news-section\">News Details</div>\n    </div>\n  );\n};\nexport default Header;\n","import React from \"react\";\nimport TimeAgo from \"react-timeago\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport upVoteImg from \"../assets/up.png\";\nconst NewsItem = (props) => {\n  let listItems = <div></div>;\n  const getDomain = (url) => {\n    if (url) {\n      const url_object = new URL(url);\n      return url_object.hostname;\n    } else {\n      return \"\";\n    }\n  };\n  if (props.news && props.news.length > 0) {\n    const newsFeedData = props.news[0].hits;\n    listItems = newsFeedData.map((newsFeed) => (\n      <div key={newsFeed.objectID} className=\"d-flex gray-background\">\n        <div className=\"comments-section\">{newsFeed.num_comments || 0} </div>\n        <div className=\"vote-count-section\">36</div>\n        <div className=\"up-vote-section\">\n          {\" \"}\n          <a href=\"#\">\n            <img src={upVoteImg} width=\"20%\" />\n          </a>{\" \"}\n        </div>\n        <div className=\"font-weight-bold news-section\">\n          {newsFeed.title}{\" \"}\n          <span className=\"small-font\">\n            <a href={newsFeed.url} target=\"_blank\">\n              ({getDomain(newsFeed.url)})\n            </a>{\" \"}\n            by <span className=\"text-black\">{newsFeed.author}</span>{\" \"}\n            <TimeAgo date={newsFeed.created_at} /> <a href=\"\">[ hide ]</a>\n          </span>{\" \"}\n        </div>\n      </div>\n    ));\n  }\n  return <ul>{listItems}</ul>;\n};\nfunction mapStateToProps({ news }) {\n  return { news };\n}\n\nexport default withRouter(connect(mapStateToProps)(NewsItem));\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { withRouter, Redirect, useHistory } from \"react-router-dom\";\nimport { fetchNews } from \"../actions/index\";\n\nconst Pagination = (props) => {\n  const history = useHistory();\n  let { currPage } = props;\n  currPage = parseInt(currPage);\n  const decrementPageNum = (e) => {\n    e.preventDefault();\n    currPage = currPage - 1;\n    fetchNews(currPage);\n  };\n  const incrementPageNum = (e) => {\n    e.preventDefault();\n    currPage = currPage + 1;\n    return history.push(`/news&p=${currPage}`);\n  };\n  return (\n    <div className=\"pagination\">\n      <a href=\"#\" onClick={decrementPageNum}>\n        Previous |{\" \"}\n      </a>\n      <a href=\"#\" onClick={incrementPageNum}>\n        Next\n      </a>\n    </div>\n  );\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({ fetchNews }, dispatch);\n}\nexport default withRouter(connect(null, mapDispatchToProps)(Pagination));\n","import React from \"react\";\nimport LineChart from \"react-linechart\";\nimport \"../../node_modules/react-linechart/dist/styles.css\";\n\nconst Graph = () => {\n  const data = [\n    {\n      color: \"steelblue\",\n      points: [\n        { x: 10, y: 20 },\n        { x: 20, y: 40 },\n        { x: 30, y: 10 },\n        { x: 35, y: 54 },\n        { x: 70, y: -30 },\n      ],\n    },\n  ];\n  return (\n    <div className=\"graph-container\">\n      <LineChart\n        width={400}\n        height={200}\n        xLabel=\"ID\"\n        yLabel=\"Votes\"\n        data={data}\n      />\n    </div>\n  );\n};\nexport default Graph;\n","import React from \"react\";\nimport { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { useParams } from \"react-router-dom\";\nimport { fetchNews } from \"../actions/index\";\nimport Header from \"./header\";\nimport NewsItem from \"./newsitem\";\nimport Pagination from \"./pagination\";\nimport Graph from \"./graph\";\nimport { withRouter } from \"react-router-dom\";\nconst NewsFeed = (props) => {\n  const { fetchNews } = props;\n\n  let pagination = 1;\n  console.log(\"page\", pagination);\n  useEffect(() => {\n    fetchNews(pagination);\n  }, [pagination, fetchNews]);\n  // Get parameters from the current URL\n\n  return (\n    <div>\n      <Header />\n      <NewsItem />\n      <Pagination currPage={pagination} />\n      <Graph />\n    </div>\n  );\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return bindActionCreators({ fetchNews }, dispatch);\n}\n\nexport default withRouter(connect(null, mapDispatchToProps)(NewsFeed));\n","import React from \"react\";\nimport \"../style/style.css\";\nimport NewsFeed from \"./news_feed\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nconst App = () => {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/news\">\n          <NewsFeed />\n        </Route>\n        <Route\n          exact\n          path=\"/\"\n          render={() => {\n            return <Redirect to=\"/news\" />;\n          }}\n        />\n      </Switch>\n    </Router>\n  );\n};\nexport default App;\n","import { combineReducers } from \"redux\";\nimport NewsReducer from \"./reducer_news\";\n\nconst rootReducer = combineReducers({\n  news: NewsReducer,\n});\n\nexport default rootReducer;\n","import { FETCH_NEWS, UPDATE_PAGE_NUM } from \"../actions/index\";\n\nexport default function (state = [], action) {\n  switch (action.type) {\n    case FETCH_NEWS:\n      return [action.payload, ...state];\n    case UPDATE_PAGE_NUM:\n      return [action.payload, ...state];\n    default:\n    // do nothing\n  }\n  return state;\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension/developmentOnly\";\n\nimport thunk from \"redux-thunk\";\nimport promiseMiddleware from \"redux-promise\";\n\nimport App from \"./components/app\";\nimport reducers from \"./reducers\";\n\nconst middlewares = [promiseMiddleware, thunk];\n\nconst composeEnhancer =\n  typeof composeWithDevTools !== \"undefined\" ? composeWithDevTools : compose;\n\nconst store = createStore(\n  reducers,\n  {},\n  composeEnhancer(applyMiddleware(...middlewares))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector(\".container\")\n);\n"],"sourceRoot":""}